Turbo Assembler	 Version 4.1	    02/23/26 23:42:29	    Page 1
example1.asm



      1	0000			     .model tiny
      2	0000			     .code
      3				     org 100h
      4	0100  B8 3509		     Start:		 mov ax, 3509h
      5	0103  CD 21					 int 21h
      6
      7	0105  89 1E 016Ar				 mov old09ofs, bx
      8	0109  8C C3					 mov bx, es
      9	010B  89 1E 016Cr				 mov old09seg, bx
     10
     11
     12	010F  50 55 8B EC C7 46	02+			 push 0
     13	      0000 5D
     14	0119  07					 pop es
     15
     16	011A  BB 0024					 mov bx, 4*09h
     17	011D  FA					 cli
     18	011E  26: C7 07	0140r				 mov es:[bx], offset New09
     19	0123  8C C8					 mov ax, cs
     20	0125  26: 89 47	02				 mov es:[bx+2],	ax
     21	0129  FB					 sti
     22
     23	012A  9C					 pushf
     24	012B  0E					 push cs
     25	012C  E8 0011					 call New09
     26
     27	012F  B8 3100					 mov ax, 3100h
     28	0132  BA 016Er					 mov dx, offset	EOPPP
     29	0135  D1 EA D1 EA D1 EA	D1+			 shr dx, 4
     30	      EA
     31	013D  42					 inc dx
     32	013E  CD 21					 int 21h
     33
     34	0140			     New09		 proc
     35	0140  50 53 06					 push ax bx es
     36
     37	0143  50 55 8B EC C7 46	02+			 push 0b800h
     38	      B800 5D
     39	014D  07					 pop es
     40	014E  BB 0370					 mov bx, (80d*5	+ 40d)*2
     41	0151  B4 4E					 mov ah, 4eh
     42
     43	0153  E4 60					 in al,	60h
     44	0155  26: 89 07					 mov es:[bx], ax
     45
     46	0158  E4 61					 in al,	61h
     47	015A  0C 80					 or al,	80h
     48	015C  E6 61					 out 61h, al
     49	015E  24 7F					 and al, not 80h
     50	0160  E6 61					 out 61h, al
     51
     52	0162  B0 20					 mov al, 20h
     53	0164  E6 20					 out 20h, al
     54
     55	0166  07 5B 58					 pop es	bx ax
     56
     57	0169  EA					 db 0eah
Turbo Assembler	 Version 4.1	    02/23/26 23:42:29	    Page 2
example1.asm



     58	016A  0000		     old09ofs		 dw 0
     59	016C  0000		     old09seg		 dw 0
     60
     61	016E			     New09		 endp
     62
     63	016E			     EOPPP:
     64				     end Start
Turbo Assembler	 Version 4.1	    02/23/26 23:42:29	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/23/26"
??FILENAME			  Text	 "example1"
??TIME				  Text	 "23:42:29"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 EXAMPLE1
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
EOPPP				  Near	 DGROUP:016E
NEW09				  Near	 DGROUP:0140
OLD09OFS			  Word	 DGROUP:016A
OLD09SEG			  Word	 DGROUP:016C
START				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  016E Word	  Public  CODE
